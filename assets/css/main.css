@import "tailwindcss";
@import "tw-animate-css";

@plugin '@tailwindcss/typography';

@custom-variant dark (&:is(.dark *));

@theme {
  --breakpoint-*: initial;
  --breakpoint-xs: 540px;
  --breakpoint-sm: 640px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 1024px;
  --breakpoint-xl: 1280px;
  --breakpoint-2xl: 1500px;
  --breakpoint-3xl: 1600px;

  --font-sans:
    PlusJakartaSans, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

  /* Slate */
  /* --color-gray-50: oklch(0.984 0.003 247.858);
  --color-gray-100: oklch(0.968 0.007 247.896);
  --color-gray-200: oklch(0.929 0.013 255.508);
  --color-gray-300: oklch(0.869 0.022 252.894);
  --color-gray-400: oklch(0.704 0.04 256.788);
  --color-gray-500: oklch(0.554 0.046 257.417);
  --color-gray-600: oklch(0.446 0.043 257.281);
  --color-gray-700: oklch(0.372 0.044 257.287);
  --color-gray-800: oklch(0.279 0.041 260.031);
  --color-gray-900: oklch(0.208 0.042 265.755);
  --color-gray-950: oklch(0.129 0.042 264.695); */

  /* Gray */
  /* --color-gray-50: oklch(0.985 0.002 247.839);
  --color-gray-100: oklch(0.967 0.003 264.542);
  --color-gray-200: oklch(0.928 0.006 264.531);
  --color-gray-300: oklch(0.872 0.01 258.338);
  --color-gray-400: oklch(0.707 0.022 261.325);
  --color-gray-500: oklch(0.551 0.027 264.364);
  --color-gray-600: oklch(0.446 0.03 256.802);
  --color-gray-700: oklch(0.373 0.034 259.733);
  --color-gray-800: oklch(0.278 0.033 256.848);
  --color-gray-900: oklch(0.21 0.034 264.665);
  --color-gray-950: oklch(0.13 0.028 261.692); */

  /* Zinc */
  --color-gray-50: oklch(0.985 0 0);
  --color-gray-100: oklch(0.967 0.001 286.375);
  --color-gray-200: oklch(0.92 0.004 286.32);
  --color-gray-300: oklch(0.871 0.006 286.286);
  --color-gray-400: oklch(0.705 0.015 286.067);
  --color-gray-500: oklch(0.552 0.016 285.938);
  --color-gray-600: oklch(0.442 0.017 285.786);
  --color-gray-700: oklch(0.37 0.013 285.805);
  --color-gray-800: oklch(0.274 0.006 286.033);
  --color-gray-900: oklch(0.21 0.006 285.885);
  --color-gray-950: oklch(0.141 0.005 285.823);

  /* Neutral */
  /* --color-gray-50: oklch(0.985 0 0);
  --color-gray-100: oklch(0.97 0 0);
  --color-gray-200: oklch(0.922 0 0);
  --color-gray-300: oklch(0.87 0 0);
  --color-gray-400: oklch(0.708 0 0);
  --color-gray-500: oklch(0.556 0 0);
  --color-gray-600: oklch(0.439 0 0);
  --color-gray-700: oklch(0.371 0 0);
  --color-gray-800: oklch(0.269 0 0);
  --color-gray-900: oklch(0.205 0 0);
  --color-gray-950: oklch(0.145 0 0); */

  /* Stone */
  /* --color-gray-50: oklch(0.985 0.001 106.423);
  --color-gray-100: oklch(0.97 0.001 106.424);
  --color-gray-200: oklch(0.923 0.003 48.717);
  --color-gray-300: oklch(0.869 0.005 56.366);
  --color-gray-400: oklch(0.709 0.01 56.259);
  --color-gray-500: oklch(0.553 0.013 58.071);
  --color-gray-600: oklch(0.444 0.011 73.639);
  --color-gray-700: oklch(0.374 0.01 67.558);
  --color-gray-800: oklch(0.268 0.007 34.298);
  --color-gray-900: oklch(0.216 0.006 56.043);
  --color-gray-950: oklch(0.147 0.004 49.25); */

  --navbar-height-mobile: 3.5rem;
  --navbar-height-desktop: 3.5rem;
  --sidebar-width: 18rem;
  --sidebar-width-mobile: 18rem;
  --sidebar-width-icon: 3rem;
}

@layer base {
  :root {
    --background: var(--color-white);
    --foreground: var(--color-gray-950);
    --body: var(--color-gray-700);
    --border: var(--color-gray-200);
    --input: var(--color-gray-100);
    --ring: var(--color-black);
    --info: var(--color-blue-600);
    --warn: var(--color-yellow-400);
    --destructive: var(--color-red-600);
    --success: var(--color-green-500);

    --primary: var(--color-black);
    --primary-foreground: var(--color-white);

    --secondary: var(--color-gray-100);
    --secondary-foreground: var(--color-gray-900);

    --muted: var(--color-gray-100);
    --muted-foreground: var(--color-gray-600);

    --accent: var(--color-orange-600);
    --accent-foreground: var(--color-white);

    --card: var(--color-white);
    --card-foreground: var(--color-gray-700);

    --popover: var(--color-white);
    --popover-foreground: var(--color-gray-700);

    --sidebar: var(--color-white);
    --sidebar-foreground: var(--color-gray-950);
    --sidebar-primary: var(--color-gray-950);
    --sidebar-primary-foreground: var(--color-gray-50);
    --sidebar-accent: var(--color-gray-100);
    --sidebar-accent-foreground: var(--color-gray-900);
    --sidebar-border: var(--color-gray-200);
    --sidebar-ring: var(--color-gray-400);

    --radius: 0.625rem;
  }

  .dark {
    --background: var(--color-gray-950);
    --foreground: var(--color-gray-50);
    --body: var(--color-gray-300);
    --border: var(--color-gray-800);
    --input: var(--color-gray-900);
    --ring: var(--color-white);
    --info: var(--color-blue-500);
    --warn: var(--color-yellow-400);
    --destructive: var(--color-red-500);
    --success: var(--color-green-500);

    --primary: var(--color-white);
    --primary-foreground: var(--color-black);

    --secondary: var(--color-gray-900);
    --secondary-foreground: var(--color-gray-300);

    --muted: var(--color-gray-900);
    --muted-foreground: var(--color-gray-400);

    --accent: var(--color-orange-500);
    --accent-foreground: var(--color-white);

    --card: var(--color-gray-950);
    --card-foreground: var(--color-gray-300);

    --popover: var(--color-gray-950);
    --popover-foreground: var(--color-gray-300);

    --sidebar: var(--color-gray-950);
    --sidebar-foreground: var(--color-gray-50);
    --sidebar-primary: var(--color-gray-50);
    --sidebar-primary-foreground: var(--color-gray-950);
    --sidebar-accent: var(--color-gray-900);
    --sidebar-accent-foreground: var(--color-gray-100);
    --sidebar-border: var(--color-gray-800);
    --sidebar-ring: var(--color-gray-600);
  }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-body: var(--body);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-info: var(--info);
  --color-warn: var(--warn);
  --color-destructive: var(--destructive);
  --color-success: var(--success);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;
  --animate-ping-slow: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
  --ease-out-swift: cubic-bezier(0.32, 0.72, 0, 1);

  --h-navbar: var(--navbar-height-mobile);
  --h-navbar-lg: var(--navbar-height-desktop);

  @keyframes accordion-down {
    from {
      height: 0;
    }
    to {
      height: var(--reka-accordion-content-height);
    }
  }
  @keyframes accordion-up {
    from {
      height: var(--reka-accordion-content-height);
    }
    to {
      height: 0;
    }
  }
}

@utility container {
  @apply mx-auto px-4;
}

@utility no-scrollbar {
  &::-webkit-scrollbar {
    display: none;
  }
  -ms-overflow-style: none;
  scrollbar-width: none;
}

@utility scroll-mt-navbar {
  @apply scroll-mt-[var(--navbar-height-mobile)] lg:scroll-mt-[var(--navbar-height-desktop)];
}

@utility scroll-pt-navbar {
  @apply scroll-pt-[var(--navbar-height-mobile)] lg:scroll-pt-[var(--navbar-height-desktop)];
}

@utility keyboard-symbol {
  @apply bg-muted text-primary ring-border hidden rounded-md p-1 px-2 py-0.5 text-xs ring-1 ring-inset pointer-fine:inline;
}

@utility skeleton {
  @apply bg-border animate-pulse rounded-xl;
}

@utility min-h-screen-offset {
  @apply min-h-[calc(100svh-var(--navbar-height-mobile))] lg:min-h-[calc(100lvh-var(--navbar-height-desktop))];
}

@utility max-h-screen-offset {
  @apply max-h-[calc(100svh-var(--navbar-height-mobile))] lg:max-h-[calc(100lvh-var(--navbar-height-desktop))];
}

@utility container-wider {
  @apply 3xl:max-w-[1600px] container xl:max-w-[1400px] 2xl:max-w-[1500px];
}

@utility shadow-wrapper {
  box-shadow:
    0 4px 6px -1px var(--tw-shadow-color, rgb(0 0 0 / 0.1)),
    0 2px 4px -2px var(--tw-shadow-color, rgb(0 0 0 / 0.1)),
    0 0 0 8px var(--color-muted, rgb(0 0 0 / 0.1));
}

@utility text-fit {
  display: flex;
  container-type: inline-size;

  --captured-length: initial;
  --support-sentinel: var(--captured-length, 9999px);

  & > [aria-hidden] {
    visibility: hidden;
  }

  & > :not([aria-hidden]) {
    flex-grow: 1;
    container-type: inline-size;

    --captured-length: 100cqi;
    --available-space: var(--captured-length);

    & > * {
      --support-sentinel: inherit;
      --captured-length: 100cqi;
      --ratio: tan(
        atan2(
          var(--available-space),
          var(--available-space) - var(--captured-length)
        )
      );
      --font-size: clamp(
        1em,
        1em * var(--ratio),
        var(--max-font-size, infinity * 1px) - var(--support-sentinel)
      );
      inline-size: var(--available-space);

      &:not(.text-fit) {
        display: block;
        font-size: var(--font-size);

        @container (inline-size > 0) {
          white-space: nowrap;
        }
      }

      /* Necessary for variable fonts that use optical sizing */
      &.text-fit {
        --captured-length2: var(--font-size);
        font-variation-settings: "opsz" tan(atan2(var(--captured-length2), 1px));
      }
    }
  }
}

@property --captured-length {
  syntax: "<length>";
  initial-value: 0px;
  inherits: true;
}

@property --captured-length2 {
  syntax: "<length>";
  initial-value: 0px;
  inherits: true;
}

@utility text-outline {
  --text-shadow-color: var(--color-primary);

  @apply text-background text-shadow-[-1px_-1px_0_var(--text-shadow-color),1px_-1px_0_var(--text-shadow-color),-1px_1px_0_var(--text-shadow-color),_1px_1px_0_var(--text-shadow-color)];
}

@utility bg-pattern-diagonal {
  @apply bg-[image:repeating-linear-gradient(315deg,_var(--pattern-fg)_0,_var(--pattern-fg)_1px,_transparent_0,_transparent_50%)] bg-[size:10px_10px] [--pattern-fg:var(--color-primary)]/5 dark:[--pattern-fg:var(--color-primary)]/10;
}

@utility gradient-insta {
  @apply from-yellow-300 via-red-500 to-fuchsia-600;
}

.input-base,
.input-group input,
.input-group textarea {
  @apply border-border bg-background text-foreground ring-offset-background placeholder:text-muted-foreground focus-visible:ring-ring flex w-full rounded-lg border text-sm file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:cursor-not-allowed disabled:opacity-50;
}

.input-group {
  @apply grid gap-2.5;

  & input {
    @apply h-10;
  }

  & input,
  & textarea {
    @apply px-3 py-2;
  }
}

@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    @apply border-border outline-ring/50;
    -webkit-tap-highlight-color: transparent;
    font-kerning: none;
    text-rendering: optimizeSpeed;
  }

  ::view-transition-old(root),
  ::view-transition-new(root) {
    animation: none;
  }

  button:not(:disabled),
  [role="button"]:not(:disabled) {
    cursor: pointer;
  }

  *::selection {
    @apply bg-accent text-accent-foreground;
  }

  section {
    @apply scroll-mt-navbar;
  }

  a,
  button,
  .focusable {
    @apply ring-offset-background focus-visible:ring-ring focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-hidden disabled:cursor-not-allowed disabled:opacity-50;
  }

  input:-webkit-autofill {
    -webkit-box-shadow: 0 0 0 100px var(--background) inset !important;
    -webkit-text-fill-color: var(--foreground) !important;
  }

  label {
    @apply text-sm leading-none font-medium tracking-tight peer-disabled:cursor-not-allowed peer-disabled:opacity-70;
  }

  textarea {
    @apply min-h-20;

    &.autogrow {
      @apply [field-sizing:content];
    }
  }

  /* Only target non-touch devices */
  @media (hover: hover) and (pointer: fine) {
    ::-webkit-scrollbar {
      width: 5px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 5px;
    }
    * {
      scrollbar-width: thin;
      scrollbar-color: var(--border) transparent;
    }

    header {
      @apply after:bg-background relative after:absolute after:inset-y-0 after:right-0 after:w-[var(--scrollbar-width,0px)] after:translate-x-full after:content-[''];
    }
  }
}

@layer utilities {
  [data-tippy-root] {
    .tippy-box {
      @apply bg-background text-foreground ring-border rounded-md px-2 py-1 shadow-sm ring-1;
      .tippy-content {
        @apply text-[13px];
      }
    }
  }
}

.carousel-mx {
  & .carousel-item {
    @apply shrink-0;

    &:first-child {
      @apply xs:ml-[calc((100%-(540px-(1rem*2)))/2)] 3xl:ml-[calc((100%-(1600px-(1rem*2)))/2)] ml-4 sm:ml-[calc((100%-(640px-(1rem*2)))/2)] md:ml-[calc((100%-(768px-(1rem*2)))/2)] lg:ml-[calc((100%-(1024px-(1rem*2)))/2)] xl:ml-[calc((100%-(1280px-(1rem*2)))/2)] 2xl:ml-[calc((100%-(1500px-(1rem*2)))/2)];
    }

    &:last-child {
      @apply xs:mr-[calc((100%-(540px-(1rem*2)))/2)] 3xl:mr-[calc((100%-(1600px-(1rem*2)))/2)] mr-4 sm:mr-[calc((100%-(640px-(1rem*2)))/2)] md:mr-[calc((100%-(768px-(1rem*2)))/2)] lg:mr-[calc((100%-(1024px-(1rem*2)))/2)] xl:mr-[calc((100%-(1280px-(1rem*2)))/2)] 2xl:mr-[calc((100%-(1500px-(1rem*2)))/2)];
    }
  }
}

.carousel-mx-wider {
  & .carousel-item {
    @apply shrink-0;

    &:first-child {
      @apply xs:ml-[calc((100%-(540px-(1rem*2)))/2)] 3xl:ml-[calc((100%-(1600px-(1rem*2)))/2)] ml-4 sm:ml-[calc((100%-(640px-(1rem*2)))/2)] md:ml-[calc((100%-(768px-(1rem*2)))/2)] lg:ml-[calc((100%-(1024px-(1rem*2)))/2)] xl:ml-[calc((100%-(1400px-(1rem*2)))/2)] 2xl:ml-[calc((100%-(1500px-(1rem*2)))/2)];
    }

    &:last-child {
      @apply xs:mr-[calc((100%-(540px-(1rem*2)))/2)] 3xl:mr-[calc((100%-(1600px-(1rem*2)))/2)] mr-4 sm:mr-[calc((100%-(640px-(1rem*2)))/2)] md:mr-[calc((100%-(768px-(1rem*2)))/2)] lg:mr-[calc((100%-(1024px-(1rem*2)))/2)] xl:mr-[calc((100%-(1400px-(1rem*2)))/2)] 2xl:mr-[calc((100%-(1500px-(1rem*2)))/2)];
    }
  }
}

@utility format-html {
  @apply prose dark:prose-invert prose-headings:font-semibold prose-headings:tracking-tighter sm:prose-lg prose-h1:font-extrabold prose-figcaption:capitalize prose-figcaption:text-center prose-figcaption:text-xs prose-img:w-full max-w-2xl tracking-[-0.015em] break-words;

  & *:not(h1, h2, h3, h4, h5, h6, a) {
    @apply !bg-inherit !text-inherit;
  }

  & table {
    @apply !block !w-full !border-collapse !overflow-x-auto !whitespace-nowrap;
  }

  & th,
  & td {
    @apply !border-border !px-2 !py-4;

    & p,
    & span {
      @apply !my-0 !align-middle !leading-normal !text-nowrap;
    }
  }

  & h1 {
    @apply text-4xl sm:text-5xl;
  }

  & h2 {
    @apply text-3xl sm:text-4xl;
  }

  & h3 {
    @apply text-xl sm:text-2xl;
  }

  & h4 {
    @apply text-lg sm:text-xl;
  }

  & p {
    @apply !leading-[1.6] not-first:mt-6;
  }

  & blockquote {
    @apply mt-6 border-l-2 pl-6 italic;
  }

  & code {
    @apply bg-muted relative rounded px-[0.3rem] py-[0.2rem] font-mono text-sm font-semibold;
  }
}

@property --left-fade {
  syntax: "<length>";
  inherits: false;
  initial-value: 0;
}

@property --right-fade {
  syntax: "<length>";
  inherits: false;
  initial-value: 0;
}

@property --top-fade {
  syntax: "<length>";
  inherits: false;
  initial-value: 0;
}

@property --bottom-fade {
  syntax: "<length>";
  inherits: false;
  initial-value: 0;
}

@keyframes scrollFadeX {
  0% {
    --left-fade: 0;
  }
  10%,
  100% {
    --left-fade: 3rem;
  }
  0%,
  90% {
    --right-fade: 3rem;
  }
  100% {
    --right-fade: 0;
  }
}

@keyframes scrollFadeY {
  0% {
    --top-fade: 0;
  }
  10%,
  100% {
    --top-fade: 3rem;
  }
  0%,
  90% {
    --bottom-fade: 3rem;
  }
  100% {
    --bottom-fade: 0;
  }
}

@utility scroll-fade-x {
  mask: linear-gradient(
    to right,
    #0000,
    #ffff var(--left-fade) calc(100% - var(--right-fade)),
    #0000
  );
  animation: scrollFadeX;
  animation-timeline: --scrollFadeX;
  scroll-timeline: --scrollFadeX x;
}

@utility scroll-fade-y {
  mask: linear-gradient(
    to bottom,
    #0000,
    #ffff var(--top-fade) calc(100% - var(--bottom-fade)),
    #0000
  );
  animation: scrollFadeY;
  animation-timeline: --scrollFadeY;
  scroll-timeline: --scrollFadeY y;
}

@utility squircle {
  @apply !rounded-full [corner-shape:squircle];
}

.gallery-container .my-gallery {
  @apply 3xl:grid-cols-4 grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3;

  & .gallery-thumbnail {
    @apply bg-muted mx-0.5 my-0.5 aspect-1600/1067;

    & img {
      @apply size-full object-cover;
    }
  }
}

img.pswp__img {
  @apply object-contain;
}

.section-title {
  @apply text-primary text-4xl !leading-[1.2] font-semibold tracking-tighter text-balance sm:text-[3.2rem];
}

.section-title-large {
  @apply xs:text-6xl xs:leading-[1.1] 3xl:text-8xl 3xl:leading-[1.1] pb-2 text-[12vw] leading-[1.1] font-extrabold tracking-tighter text-balance text-black md:text-7xl md:leading-[1.1] lg:text-[5.5rem] lg:leading-[1.1] dark:bg-linear-to-r dark:from-white dark:to-gray-500 dark:bg-clip-text dark:text-transparent;
}

.section-subtitle {
  @apply inline-block bg-linear-to-r from-red-500 via-orange-600 to-orange-500 bg-clip-text font-semibold tracking-tight text-balance text-transparent dark:from-red-500 dark:via-orange-500 dark:to-yellow-500;
}

.section-description {
  @apply text-body max-w-xl text-base !leading-relaxed tracking-tight text-pretty sm:text-lg;
}

.glowing-button-indigo {
  @apply flex items-center justify-center gap-1.5 bg-[radial-gradient(50%_50%_at_50%_100%,#6366f1_0%,#4338ca_100%)] font-semibold tracking-tight text-white shadow-[0px_0px_0px_4px_rgba(255,255,255,0.07),inset_0px_-4px_0px_rgba(0,0,0,0.2),inset_0px_1px_0px_rgba(255,255,255,0.4)] transition duration-200 hover:scale-105 active:scale-95;
}

@utility gradient-accent {
  @apply from-red-500 via-orange-600 to-red-600 text-white;
}

@utility text-gradient-accent {
  @apply bg-linear-to-r from-orange-400 via-orange-600 to-red-600 bg-clip-text text-transparent;
}

@utility gradient-gold {
  background-image:
    linear-gradient(0deg, #c1a875, #c1a875),
    linear-gradient(to right, rgba(255, 255, 255, 0) 52.79%, #ffffff 95.95%),
    linear-gradient(
      76.82deg,
      #576265 11.6%,
      #9ea1a1 25.31%,
      #848b8a 48.06%,
      #576265 55.72%,
      #576265 77.23%,
      #757a7b 85.34%,
      #576265 91.31%
    );
  background-blend-mode: color, overlay, normal;
}

/* .gradient-rainbow {
  background: linear-gradient(
    90deg,
    #fc6756,
    #f8cf3e 38%,
    #26f4d0 52%,
    #724ce8
  );
} */

/* .gradient-silver {
  background:
    linear-gradient(0deg, #cdc9c2, #cdc9c2),
    linear-gradient(to right, rgba(255, 255, 255, 0) 52.79%, #ffffff 95.95%),
    linear-gradient(
      76.82deg,
      #576265 11.6%,
      #9ea1a1 25.31%,
      #848b8a 48.06%,
      #576265 55.72%,
      #576265 77.23%,
      #757a7b 85.34%,
      #576265 91.31%
    );
  background-blend-mode: color, overlay, normal;
} */
